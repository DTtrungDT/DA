{"ast":null,"code":"import _asyncToGenerator from \"D:/doan/SocialNetworkWebApp/SocialNetworkWebApp-FE/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { lastValueFrom } from 'rxjs';\nimport { User } from 'src/app/models/user.model';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/user.service\";\nimport * as i3 from \"src/app/services/account.service\";\nimport * as i4 from \"@angular/forms\";\nexport class SignUpComponent {\n  constructor(router, userService, accountService) {\n    this.router = router;\n    this.userService = userService;\n    this.accountService = accountService;\n    this.user = new User();\n    this.retypePassword = '';\n  }\n\n  ngOnInit() {}\n\n  register() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let check = yield _this.validate();\n\n      if (check) {\n        _this.userService.add(_this.user).subscribe(data => {\n          _this.accountService.generateDefaultAvatar(data).subscribe();\n\n          Swal.fire({\n            position: 'top-end',\n            icon: 'success',\n            title: 'Create account successfully!',\n            showConfirmButton: false,\n            timer: 1500\n          }).then(result => {\n            _this.router.navigateByUrl('');\n          });\n        }, error => console.log(error));\n      }\n    })();\n  }\n\n  validate() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      let check = true;\n      let message = '';\n      const userRepo = yield lastValueFrom(_this2.userService.getAll());\n\n      if (!_this2.user.email || !_this2.user.firstName || !_this2.user.lastName || !_this2.user.phone || !_this2.user.password) {\n        check = false;\n        message = 'Please fulfill all informations';\n      } else if (_this2.user.password !== _this2.retypePassword) {\n        check = false;\n        message = 'Retype the password incorrectly!';\n      }\n\n      userRepo.forEach(user => {\n        if (user.email === _this2.user.email) {\n          check = false;\n          message = 'Email already used!';\n        }\n      });\n\n      if (!check) {\n        Swal.fire({\n          position: 'top-end',\n          icon: 'error',\n          title: message,\n          showConfirmButton: false,\n          timer: 1500\n        });\n      }\n\n      return check;\n    })();\n  }\n\n}\n\nSignUpComponent.ɵfac = function SignUpComponent_Factory(t) {\n  return new (t || SignUpComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.AccountService));\n};\n\nSignUpComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SignUpComponent,\n  selectors: [[\"app-sign-up\"]],\n  decls: 29,\n  vars: 7,\n  consts: [[\"rel\", \"stylesheet\", \"href\", \"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\", \"integrity\", \"sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z\", \"crossorigin\", \"anonymous\"], [1, \"login_box\"], [1, \"left\"], [1, \"contact\"], [\"type\", \"email\", \"name\", \"email\", \"placeholder\", \"E-mail\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"firstName\", \"placeholder\", \"First name\", 1, \"inline\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"lastName\", \"placeholder\", \"Last name\", 1, \"inline\", \"input-right\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"tel\", \"name\", \"phone\", \"placeholder\", \"Phone number\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"dateOfBirth\"], [\"type\", \"date\", \"name\", \"dateOfBirth\", \"placeholder\", \"Date of birth\", 1, \"inline\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", \"placeholder\", \"Password\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password2\", \"placeholder\", \"Retype password\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"submit\", 3, \"click\"], [1, \"right\"], [1, \"right-text\"], [\"type\", \"button\", \"routerLink\", \"/auth/login\", 1, \"submit\"], [1, \"right-inductor\"], [\"src\", \"https://lh3.googleusercontent.com/fife/ABSRlIoGiXn2r0SBm7bjFHea6iCUOyY0N2SrvhNUT-orJfyGNRSMO2vfqar3R-xs5Z4xbeqYwrEMq2FXKGXm-l_H6QAlwCBk9uceKBfG-FjacfftM0WM_aoUC_oxRSXXYspQE3tCMHGvMBlb2K1NAdU6qWv3VAQAPdCo8VwTgdnyWv08CmeZ8hX_6Ty8FzetXYKnfXb0CTEFQOVF4p3R58LksVUd73FU6564OsrJt918LPEwqIPAPQ4dMgiH73sgLXnDndUDCdLSDHMSirr4uUaqbiWQq-X1SNdkh-3jzjhW4keeNt1TgQHSrzW3maYO3ryueQzYoMEhts8MP8HH5gs2NkCar9cr_guunglU7Zqaede4cLFhsCZWBLVHY4cKHgk8SzfH_0Rn3St2AQen9MaiT38L5QXsaq6zFMuGiT8M2Md50eS0JdRTdlWLJApbgAUqI3zltUXce-MaCrDtp_UiI6x3IR4fEZiCo0XDyoAesFjXZg9cIuSsLTiKkSAGzzledJU3crgSHjAIycQN2PH2_dBIa3ibAJLphqq6zLh0qiQn_dHh83ru2y7MgxRU85ithgjdIk3PgplREbW9_PLv5j9juYc1WXFNW9ML80UlTaC9D2rP3i80zESJJY56faKsA5GVCIFiUtc3EewSM_C0bkJSMiobIWiXFz7pMcadgZlweUdjBcjvaepHBe8wou0ZtDM9TKom0hs_nx_AKy0dnXGNWI1qftTjAg=w1920-h979-ft\", \"alt\", \"\"]],\n  template: function SignUpComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"link\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"form\")(5, \"h1\");\n      i0.ɵɵtext(6, \"SIGN UP\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.user.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.user.firstName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.user.lastName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.user.phone = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\")(12, \"label\", 8);\n      i0.ɵɵtext(13, \"Date of birth\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.user.dateOfBirth = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.user.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.retypePassword = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function SignUpComponent_Template_button_click_17_listener() {\n        return ctx.register();\n      });\n      i0.ɵɵtext(18, \"Sign me up\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(19, \"div\", 13)(20, \"div\", 14)(21, \"h2\");\n      i0.ɵɵtext(22, \"Sign up to join our community\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"h5\");\n      i0.ɵɵtext(24, \"Have an account?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"a\", 15);\n      i0.ɵɵtext(26, \"Sign In\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"div\", 16);\n      i0.ɵɵelement(28, \"img\", 17);\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.user.email);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.user.firstName);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.user.lastName);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.user.phone);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.user.dateOfBirth);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.user.password);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.retypePassword);\n    }\n  },\n  dependencies: [i1.RouterLinkWithHref, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\"img[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\n.login_box[_ngcontent-%COMP%] {\\n  width: 1050px;\\n  height: 600px;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  background: #fff;\\n  border-radius: 10px;\\n  box-shadow: 1px 4px 22px -8px rgba(0, 0, 0, 0.2666666667);\\n  display: flex;\\n  overflow: hidden;\\n}\\n\\n.login_box[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] {\\n  width: 45%;\\n  height: 100%;\\n  padding: 25px 25px;\\n}\\n\\n.login_box[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%] {\\n  width: 55%;\\n  height: 100%;\\n}\\n\\n.left[_ngcontent-%COMP%]   .top_link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  color: #452A5A;\\n  font-weight: 400;\\n}\\n\\n.left[_ngcontent-%COMP%]   .top_link[_ngcontent-%COMP%] {\\n  height: 20px;\\n}\\n\\n.left[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  align-self: center;\\n  height: 100%;\\n  width: 73%;\\n  margin: auto;\\n}\\n\\n.left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 40px;\\n}\\n\\n.left[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n  font-size: 14px;\\n  opacity: 75%;\\n  margin-left: 7px;\\n  margin-right: 17px;\\n}\\n\\n.left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  border: none;\\n  width: 80%;\\n  margin: 15px 0px;\\n  border-bottom: 1px solid rgba(79, 48, 103, 0.4901960784);\\n  padding: 7px 9px;\\n  width: 100%;\\n  overflow: hidden;\\n  background: transparent;\\n  font-weight: 600;\\n  font-size: 14px;\\n}\\n\\n.left[_ngcontent-%COMP%]   input.inline[_ngcontent-%COMP%] {\\n  display: inline;\\n  width: 45%;\\n  margin-right: 5%;\\n}\\n\\n.left[_ngcontent-%COMP%]   input.inline.input-right[_ngcontent-%COMP%] {\\n  margin-left: 5%;\\n  margin-right: 0;\\n}\\n\\n.left[_ngcontent-%COMP%] {\\n  background: linear-gradient(-45deg, #dcd7e0, #fff);\\n}\\n\\n.submit[_ngcontent-%COMP%] {\\n  border: none;\\n  padding: 15px 70px;\\n  border-radius: 8px;\\n  display: block;\\n  margin: auto;\\n  margin-top: 30px;\\n  background: #583672;\\n  color: #fff;\\n  font-weight: bold;\\n  box-shadow: 0px 9px 15px -11px rgb(88, 54, 114);\\n}\\n\\n.submit[_ngcontent-%COMP%]:hover {\\n  background-color: #452A5A;\\n}\\n\\n.right[_ngcontent-%COMP%] {\\n  background: linear-gradient(212.38deg, rgba(242, 57, 127, 0.7) 0%, rgba(175, 70, 189, 0.71) 100%), url(https://cdn.pixabay.com/photo/2024/02/21/08/44/woman-8587090_1280.png);\\n  color: #fff;\\n  position: relative;\\n}\\n\\n.right[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%] {\\n  padding: 15px 50px;\\n  margin-top: 30px;\\n  border: 2px solid white;\\n  border-radius: 15px;\\n  background-color: transparent;\\n  width: max-content;\\n}\\n\\n.right[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover {\\n  background-color: rgba(255, 255, 255, 0.5);\\n  text-decoration: none;\\n}\\n\\n.right[_ngcontent-%COMP%]   .right-text[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n  display: block;\\n  text-align: center;\\n  transform: translate(0%, 25%);\\n}\\n\\n.right-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  display: block;\\n  width: 100%;\\n  text-align: center;\\n  font-size: 50px;\\n  font-weight: 500;\\n}\\n\\n.right-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 50px;\\n  font-weight: 500;\\n}\\n\\n.right-text[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n  font-size: 19px;\\n  font-weight: 400;\\n}\\n\\n.right[_ngcontent-%COMP%]   .right-inductor[_ngcontent-%COMP%] {\\n  position: absolute;\\n  width: 70px;\\n  height: 7px;\\n  background: rgba(255, 255, 255, 0);\\n  left: 50%;\\n  bottom: 70px;\\n  transform: translate(-50%, 0%);\\n}\\n\\n.top_link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 28px;\\n  padding-right: 7px;\\n  margin-top: -3px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ24tdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0FBQ0o7O0FBRUE7RUFDSSxhQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxnQ0FBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSx5REFBQTtFQUNBLGFBQUE7RUFDQSxnQkFBQTtBQUNKOztBQUVBO0VBQ0ksVUFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQUNKOztBQUdBO0VBQ0ksVUFBQTtFQUNBLFlBQUE7QUFBSjs7QUFHQTtFQUNJLGNBQUE7RUFDQSxnQkFBQTtBQUFKOztBQUdBO0VBQ0ksWUFBQTtBQUFKOztBQUdBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtBQUFKOztBQUdBO0VBQ0ksa0JBQUE7RUFDQSxtQkFBQTtBQUFKOztBQUdBO0VBQ0ksZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUFBSjs7QUFHQTtFQUNJLFlBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSx3REFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7QUFBSjs7QUFHQTtFQUNJLGVBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7QUFBSjs7QUFHQTtFQUNJLGVBQUE7RUFDQSxlQUFBO0FBQUo7O0FBR0E7RUFDSSxrREFBQTtBQUFKOztBQUdBO0VBQ0ksWUFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFHQSwrQ0FBQTtBQUFKOztBQUdBO0VBQ0kseUJBQUE7QUFBSjs7QUFHQTtFQUNJLDZLQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FBQUo7O0FBR0E7RUFDSSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLDZCQUFBO0VBQ0Esa0JBQUE7QUFBSjs7QUFHQTtFQUNJLDBDQUFBO0VBQ0EscUJBQUE7QUFBSjs7QUFHQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSw2QkFBQTtBQUFKOztBQUdBO0VBQ0ksY0FBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQUFKOztBQUdBO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0FBQUo7O0FBR0E7RUFDSSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQUFKOztBQUdBO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLGtDQUFBO0VBQ0EsU0FBQTtFQUNBLFlBQUE7RUFDQSw4QkFBQTtBQUFKOztBQUdBO0VBQ0ksV0FBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUFBSiIsImZpbGUiOiJzaWduLXVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW1nIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4ubG9naW5fYm94IHtcclxuICAgIHdpZHRoOiAxMDUwcHg7XHJcbiAgICBoZWlnaHQ6IDYwMHB4O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA1MCU7XHJcbiAgICBsZWZ0OiA1MCU7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcclxuICAgIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgYm94LXNoYWRvdzogMXB4IDRweCAyMnB4IC04cHggIzAwMDQ7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxufVxyXG5cclxuLmxvZ2luX2JveCAubGVmdCB7XHJcbiAgICB3aWR0aDogNDUlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgcGFkZGluZzogMjVweCAyNXB4O1xyXG5cclxufVxyXG5cclxuLmxvZ2luX2JveCAucmlnaHQge1xyXG4gICAgd2lkdGg6IDU1JTtcclxuICAgIGhlaWdodDogMTAwJVxyXG59XHJcblxyXG4ubGVmdCAudG9wX2xpbmsgYSB7XHJcbiAgICBjb2xvcjogIzQ1MkE1QTtcclxuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbn1cclxuXHJcbi5sZWZ0IC50b3BfbGluayB7XHJcbiAgICBoZWlnaHQ6IDIwcHhcclxufVxyXG5cclxuLmxlZnQgLmNvbnRhY3Qge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHdpZHRoOiA3MyU7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbn1cclxuXHJcbi5sZWZ0IGgzIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIG1hcmdpbi1ib3R0b206IDQwcHg7XHJcbn1cclxuXHJcbi5sZWZ0IGxhYmVsIHtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBvcGFjaXR5OiA3NSU7XHJcbiAgICBtYXJnaW4tbGVmdDogN3B4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxN3B4O1xyXG59XHJcblxyXG4ubGVmdCBpbnB1dCB7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICB3aWR0aDogODAlO1xyXG4gICAgbWFyZ2luOiAxNXB4IDBweDtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjNGYzMDY3N2Q7XHJcbiAgICBwYWRkaW5nOiA3cHggOXB4O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG59XHJcblxyXG4ubGVmdCBpbnB1dC5pbmxpbmUge1xyXG4gICAgZGlzcGxheTogaW5saW5lO1xyXG4gICAgd2lkdGg6IDQ1JTtcclxuICAgIG1hcmdpbi1yaWdodDogNSU7XHJcbn1cclxuXHJcbi5sZWZ0IGlucHV0LmlubGluZS5pbnB1dC1yaWdodCB7XHJcbiAgICBtYXJnaW4tbGVmdDogNSU7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDA7XHJcbn1cclxuXHJcbi5sZWZ0IHtcclxuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgtNDVkZWcsICNkY2Q3ZTAsICNmZmYpO1xyXG59XHJcblxyXG4uc3VibWl0IHtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIHBhZGRpbmc6IDE1cHggNzBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgbWFyZ2luLXRvcDogMzBweDtcclxuICAgIGJhY2tncm91bmQ6ICM1ODM2NzI7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggOXB4IDE1cHggLTExcHggcmdiYSg4OCwgNTQsIDExNCwgMSk7XHJcbiAgICAtbW96LWJveC1zaGFkb3c6IDBweCA5cHggMTVweCAtMTFweCByZ2JhKDg4LCA1NCwgMTE0LCAxKTtcclxuICAgIGJveC1zaGFkb3c6IDBweCA5cHggMTVweCAtMTFweCByZ2JhKDg4LCA1NCwgMTE0LCAxKTtcclxufVxyXG5cclxuLnN1Ym1pdDpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDUyQTVBO1xyXG59XHJcblxyXG4ucmlnaHQge1xyXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDIxMi4zOGRlZywgcmdiYSgyNDIsIDU3LCAxMjcsIDAuNykgMCUsIHJnYmEoMTc1LCA3MCwgMTg5LCAwLjcxKSAxMDAlKSwgdXJsKGh0dHBzOi8vY2RuLnBpeGFiYXkuY29tL3Bob3RvLzIwMjQvMDIvMjEvMDgvNDQvd29tYW4tODU4NzA5MF8xMjgwLnBuZyk7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLnJpZ2h0IC5zdWJtaXQge1xyXG4gICAgcGFkZGluZzogMTVweCA1MHB4O1xyXG4gICAgbWFyZ2luLXRvcDogMzBweDtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHdoaXRlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgd2lkdGg6IG1heC1jb250ZW50O1xyXG59XHJcblxyXG4ucmlnaHQgLnN1Ym1pdDpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuXHJcbi5yaWdodCAucmlnaHQtdGV4dCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCUsIDI1JSk7XHJcbn1cclxuXHJcbi5yaWdodC10ZXh0IGgyIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBmb250LXNpemU6IDUwcHg7XHJcbiAgICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG4ucmlnaHQtdGV4dCBoMiB7XHJcbiAgICBmb250LXNpemU6IDUwcHg7XHJcbiAgICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG4ucmlnaHQtdGV4dCBoNSB7XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgZm9udC1zaXplOiAxOXB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcclxufVxyXG5cclxuLnJpZ2h0IC5yaWdodC1pbmR1Y3RvciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB3aWR0aDogNzBweDtcclxuICAgIGhlaWdodDogN3B4O1xyXG4gICAgYmFja2dyb3VuZDogI2ZmZjA7XHJcbiAgICBsZWZ0OiA1MCU7XHJcbiAgICBib3R0b206IDcwcHg7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAwJSk7XHJcbn1cclxuXHJcbi50b3BfbGluayBpbWcge1xyXG4gICAgd2lkdGg6IDI4cHg7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiA3cHg7XHJcbiAgICBtYXJnaW4tdG9wOiAtM3B4O1xyXG59Il19 */\"]\n});","map":{"version":3,"mappings":";AAEA,SAASA,aAAT,QAA8B,MAA9B;AAEA,SAASC,IAAT,QAAqB,2BAArB;AAGA,OAAOC,IAAP,MAAiB,aAAjB;;;;;;AAOA,OAAM,MAAOC,eAAP,CAAsB;EAI1BC,YACUC,MADV,EAEUC,WAFV,EAGUC,cAHV,EAGwC;IAF9B;IACA;IACA;IANV,YAAa,IAAIN,IAAJ,EAAb;IACA,sBAAyB,EAAzB;EAK6C;;EAE7CO,QAAQ,IACP;;EAEKC,QAAQ;IAAA;;IAAA;MACZ,IAAIC,KAAK,SAAS,KAAI,CAACC,QAAL,EAAlB;;MAEA,IAAID,KAAJ,EAAW;QACT,KAAI,CAACJ,WAAL,CACGM,GADH,CACO,KAAI,CAACC,IADZ,EAEGC,SAFH,CAGIC,IAAI,IAAG;UACL,KAAI,CAACR,cAAL,CAAoBS,qBAApB,CAA0CD,IAA1C,EAAgDD,SAAhD;;UAEAZ,IAAI,CAACe,IAAL,CAAU;YACRC,QAAQ,EAAE,SADF;YAERC,IAAI,EAAE,SAFE;YAGRC,KAAK,EAAE,8BAHC;YAIRC,iBAAiB,EAAE,KAJX;YAKRC,KAAK,EAAE;UALC,CAAV,EAMGC,IANH,CAMQC,MAAM,IAAG;YACf,KAAI,CAACnB,MAAL,CAAYoB,aAAZ,CAA0B,EAA1B;UACD,CARD;QASD,CAfL,EAgBIC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAhBb;MAiBD;IArBW;EAsBb;;EAEKf,QAAQ;IAAA;;IAAA;MACZ,IAAID,KAAK,GAAG,IAAZ;MACA,IAAImB,OAAO,GAAG,EAAd;MACA,MAAMC,QAAQ,SAAS9B,aAAa,CAAC,MAAI,CAACM,WAAL,CAAiByB,MAAjB,EAAD,CAApC;;MAEA,IAAI,CAAC,MAAI,CAAClB,IAAL,CAAUmB,KAAX,IACF,CAAC,MAAI,CAACnB,IAAL,CAAUoB,SADT,IAEF,CAAC,MAAI,CAACpB,IAAL,CAAUqB,QAFT,IAGF,CAAC,MAAI,CAACrB,IAAL,CAAUsB,KAHT,IAIF,CAAC,MAAI,CAACtB,IAAL,CAAUuB,QAJb,EAIuB;QACrB1B,KAAK,GAAG,KAAR;QACAmB,OAAO,GAAG,iCAAV;MACD,CAPD,MAOO,IAAI,MAAI,CAAChB,IAAL,CAAUuB,QAAV,KAAuB,MAAI,CAACC,cAAhC,EAAgD;QACrD3B,KAAK,GAAG,KAAR;QACAmB,OAAO,GAAG,kCAAV;MACD;;MAEDC,QAAQ,CAACQ,OAAT,CAAiBzB,IAAI,IAAG;QACtB,IAAIA,IAAI,CAACmB,KAAL,KAAe,MAAI,CAACnB,IAAL,CAAUmB,KAA7B,EAAoC;UAClCtB,KAAK,GAAG,KAAR;UACAmB,OAAO,GAAG,qBAAV;QACD;MACF,CALD;;MAOA,IAAI,CAACnB,KAAL,EAAY;QACVR,IAAI,CAACe,IAAL,CAAU;UACRC,QAAQ,EAAE,SADF;UAERC,IAAI,EAAE,OAFE;UAGRC,KAAK,EAAES,OAHC;UAIRR,iBAAiB,EAAE,KAJX;UAKRC,KAAK,EAAE;QALC,CAAV;MAOD;;MAED,OAAOZ,KAAP;IAlCY;EAmCb;;AAvEyB;;;mBAAfP,iBAAeoC;AAAA;;;QAAfpC;EAAeqC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCd5BL;MAGAA,+BAAuB,CAAvB,EAAuB,KAAvB,EAAuB,CAAvB,EAAuB,CAAvB,EAAuB,KAAvB,EAAuB,CAAvB,EAAuB,CAAvB,EAAuB,MAAvB,EAAuB,CAAvB,EAAuB,IAAvB;MAIoBA;MAAOA;MAEXA;MAAOA;QAAA;MAAA;MAAPA;MACAA;MAAOA;QAAA;MAAA;MAAPA;MAEAA;MAAOA;QAAA;MAAA;MAAPA;MAEAA;MAAOA;QAAA;MAAA;MAAPA;MACAA,6BAAK,EAAL,EAAK,OAAL,EAAK,CAAL;MAC6BA;MAAaA;MACtCA;MAAOA;QAAA;MAAA;MAAPA;MAGJA;MAAOA;QAAA;MAAA;MAAPA;MACAA;MAAOA;QAAA;MAAA;MAAPA;MAEAA;MAAqCA;QAAA,OAASM,cAAT;MAAmB,CAAnB;MAAqBN;MAAUA;MAIhFA,iCAAmB,EAAnB,EAAmB,KAAnB,EAAmB,EAAnB,EAAmB,EAAnB,EAAmB,IAAnB;MAEYA;MAA6BA;MACjCA;MAAIA;MAAgBA;MACpBA;MAAyDA;MAAOA;MAEpEA;MAA4BA;MAEbA;;;;MA1BAA;MAAAA;MACAA;MAAAA;MAEAA;MAAAA;MAEAA;MAAAA;MAGIA;MAAAA;MAGJA;MAAAA;MACAA;MAAAA","names":["lastValueFrom","User","Swal","SignUpComponent","constructor","router","userService","accountService","ngOnInit","register","check","validate","add","user","subscribe","data","generateDefaultAvatar","fire","position","icon","title","showConfirmButton","timer","then","result","navigateByUrl","error","console","log","message","userRepo","getAll","email","firstName","lastName","phone","password","retypePassword","forEach","i0","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\doan\\SocialNetworkWebApp\\SocialNetworkWebApp-FE\\src\\app\\login\\sign-up\\sign-up.component.ts","D:\\doan\\SocialNetworkWebApp\\SocialNetworkWebApp-FE\\src\\app\\login\\sign-up\\sign-up.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { lastValueFrom } from 'rxjs';\r\nimport { Util } from 'src/app/helpers/util';\r\nimport { User } from 'src/app/models/user.model';\r\nimport { AccountService } from 'src/app/services/account.service';\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-sign-up',\r\n  templateUrl: './sign-up.component.html',\r\n  styleUrls: ['./sign-up.component.scss']\r\n})\r\nexport class SignUpComponent implements OnInit {\r\n  user: User = new User();\r\n  retypePassword: string = '';\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private userService: UserService,\r\n    private accountService: AccountService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  async register(): Promise<void> {\r\n    let check = await this.validate();\r\n\r\n    if (check) {\r\n      this.userService\r\n        .add(this.user)\r\n        .subscribe(\r\n          data => {\r\n            this.accountService.generateDefaultAvatar(data).subscribe();\r\n\r\n            Swal.fire({\r\n              position: 'top-end',\r\n              icon: 'success',\r\n              title: 'Create account successfully!',\r\n              showConfirmButton: false,\r\n              timer: 1500\r\n            }).then(result => {\r\n              this.router.navigateByUrl('');\r\n            });\r\n          },\r\n          error => console.log(error));\r\n    }\r\n  }\r\n\r\n  async validate(): Promise<boolean> {\r\n    let check = true;\r\n    let message = '';\r\n    const userRepo = await lastValueFrom(this.userService.getAll());\r\n\r\n    if (!this.user.email ||\r\n      !this.user.firstName ||\r\n      !this.user.lastName ||\r\n      !this.user.phone ||\r\n      !this.user.password) {\r\n      check = false;\r\n      message = 'Please fulfill all informations';\r\n    } else if (this.user.password !== this.retypePassword) {\r\n      check = false;\r\n      message = 'Retype the password incorrectly!';\r\n    }\r\n\r\n    userRepo.forEach(user => {\r\n      if (user.email === this.user.email) {\r\n        check = false;\r\n        message = 'Email already used!';\r\n      }\r\n    });\r\n\r\n    if (!check) {\r\n      Swal.fire({\r\n        position: 'top-end',\r\n        icon: 'error',\r\n        title: message,\r\n        showConfirmButton: false,\r\n        timer: 1500\r\n      });\r\n    }\r\n\r\n    return check;\r\n  }\r\n}\r\n","<link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\"\r\n    integrity=\"sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z\" crossorigin=\"anonymous\">\r\n\r\n<div class=\"login_box\">\r\n    <div class=\"left\">\r\n        <div class=\"contact\">\r\n            <form>\r\n                <h1>SIGN UP</h1>\r\n\r\n                <input [(ngModel)]=\"user.email\" type=\"email\" name=\"email\" placeholder=\"E-mail\" />\r\n                <input [(ngModel)]=\"user.firstName\" type=\"text\" class=\"inline\" name=\"firstName\"\r\n                    placeholder=\"First name\" />\r\n                <input [(ngModel)]=\"user.lastName\" type=\"text\" class=\"inline input-right\" name=\"lastName\"\r\n                    placeholder=\"Last name\" />\r\n                <input [(ngModel)]=\"user.phone\" type=\"tel\" name=\"phone\" placeholder=\"Phone number\" />\r\n                <div>\r\n                    <label for=\"dateOfBirth\">Date of birth</label>\r\n                    <input [(ngModel)]=\"user.dateOfBirth\" class=\"inline\" type=\"date\" name=\"dateOfBirth\"\r\n                        placeholder=\"Date of birth\" />\r\n                </div>\r\n                <input [(ngModel)]=\"user.password\" type=\"password\" name=\"password\" placeholder=\"Password\" />\r\n                <input [(ngModel)]=\"retypePassword\" type=\"password\" name=\"password2\" placeholder=\"Retype password\" />\r\n\r\n                <button type=\"button\" class=\"submit\" (click)=\"register()\">Sign me up</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n    <div class=\"right\">\r\n        <div class=\"right-text\">\r\n            <h2>Sign up to join our community</h2>\r\n            <h5>Have an account?</h5>\r\n            <a type=\"button\" class=\"submit\" routerLink=\"/auth/login\">Sign In</a>\r\n        </div>\r\n        <div class=\"right-inductor\"><img\r\n                src=\"https://lh3.googleusercontent.com/fife/ABSRlIoGiXn2r0SBm7bjFHea6iCUOyY0N2SrvhNUT-orJfyGNRSMO2vfqar3R-xs5Z4xbeqYwrEMq2FXKGXm-l_H6QAlwCBk9uceKBfG-FjacfftM0WM_aoUC_oxRSXXYspQE3tCMHGvMBlb2K1NAdU6qWv3VAQAPdCo8VwTgdnyWv08CmeZ8hX_6Ty8FzetXYKnfXb0CTEFQOVF4p3R58LksVUd73FU6564OsrJt918LPEwqIPAPQ4dMgiH73sgLXnDndUDCdLSDHMSirr4uUaqbiWQq-X1SNdkh-3jzjhW4keeNt1TgQHSrzW3maYO3ryueQzYoMEhts8MP8HH5gs2NkCar9cr_guunglU7Zqaede4cLFhsCZWBLVHY4cKHgk8SzfH_0Rn3St2AQen9MaiT38L5QXsaq6zFMuGiT8M2Md50eS0JdRTdlWLJApbgAUqI3zltUXce-MaCrDtp_UiI6x3IR4fEZiCo0XDyoAesFjXZg9cIuSsLTiKkSAGzzledJU3crgSHjAIycQN2PH2_dBIa3ibAJLphqq6zLh0qiQn_dHh83ru2y7MgxRU85ithgjdIk3PgplREbW9_PLv5j9juYc1WXFNW9ML80UlTaC9D2rP3i80zESJJY56faKsA5GVCIFiUtc3EewSM_C0bkJSMiobIWiXFz7pMcadgZlweUdjBcjvaepHBe8wou0ZtDM9TKom0hs_nx_AKy0dnXGNWI1qftTjAg=w1920-h979-ft\"\r\n                alt=\"\"></div>\r\n    </div>\r\n</div>"]},"metadata":{},"sourceType":"module"}