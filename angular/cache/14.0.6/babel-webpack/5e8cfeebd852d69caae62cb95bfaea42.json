{"ast":null,"code":"import _asyncToGenerator from \"D:/Code PJ/SocialNetworkWebApp/SocialNetworkWebApp-FE/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { lastValueFrom } from 'rxjs';\nimport { Friendship } from 'src/app/models/friendship.model';\nimport { User } from 'src/app/models/user.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/friendship.service\";\nimport * as i2 from \"src/app/services/relation.service\";\nexport class ProfileCardComponent {\n  constructor(friendshipService, relationService) {\n    this.friendshipService = friendshipService;\n    this.relationService = relationService;\n    this.user = new User();\n    this.icons = ['uil uil-user-plus', 'uil uil-user-exclamation', 'uil uil-user-check'];\n    this.friendship = new Friendship();\n  }\n\n  ngOnInit() {\n    if (this.user) {\n      this.user = Object.assign(new User(), this.user);\n    }\n\n    this.getRelationship();\n  }\n\n  getRelationship() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.currentUser && _this.user) {\n        _this.friendship = yield lastValueFrom(_this.relationService.getRelationshipBetweenUsers(_this.user.id, _this.currentUser.id));\n      }\n    })();\n  }\n\n  addFriend() {\n    if (this.currentUser) {\n      let friendship = new Friendship();\n      friendship.status = 0;\n      friendship.userId = this.currentUser.id;\n      friendship.friendId = this.user.id;\n      this.friendshipService.add(friendship).subscribe(data => console.log(data));\n    }\n  }\n\n}\n\nProfileCardComponent.ɵfac = function ProfileCardComponent_Factory(t) {\n  return new (t || ProfileCardComponent)(i0.ɵɵdirectiveInject(i1.FriendshipService), i0.ɵɵdirectiveInject(i2.RelationService));\n};\n\nProfileCardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProfileCardComponent,\n  selectors: [[\"app-profile-card\"]],\n  inputs: {\n    currentUser: \"currentUser\",\n    user: \"user\"\n  },\n  decls: 12,\n  vars: 4,\n  consts: [[1, \"card\"], [1, \"profile\"], [1, \"profile-picture\"], [\"alt\", \"\", 3, \"src\", \"error\"], [1, \"info\"], [1, \"text-bold\"], [1, \"text-muted\"], [1, \"btn\", 3, \"click\"], [3, \"classList\"]],\n  template: function ProfileCardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"img\", 3);\n      i0.ɵɵlistener(\"error\", function ProfileCardComponent_Template_img_error_3_listener() {\n        return ctx.user.getDefaultAvatar();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 6);\n      i0.ɵɵtext(8);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"div\")(10, \"span\", 7);\n      i0.ɵɵlistener(\"click\", function ProfileCardComponent_Template_span_click_10_listener() {\n        return ctx.addFriend();\n      });\n      i0.ɵɵelement(11, \"i\", 8);\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"src\", ctx.user.getAvatar(), i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.user.getFullName());\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"@\", ctx.user.getEmailPrefix(), \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"classList\", ctx.icons[ctx.friendship.status]);\n    }\n  },\n  styles: [\"*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]::before, *[_ngcontent-%COMP%]::after {\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    outline: 0;\\r\\n    box-sizing: border-box;\\r\\n    text-decoration: none;\\r\\n    list-style: none;\\r\\n    border: none;\\r\\n\\r\\n    font-family: 'Roboto', sans-serif, Arial, Helvetica;\\r\\n}\\r\\n\\r\\nimg[_ngcontent-%COMP%] {\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.btn[_ngcontent-%COMP%] {\\r\\n    display: inline-block;\\r\\n    padding: var(--btn-padding);\\r\\n    font-weight: 500;\\r\\n    border-radius: var(--border-radius);\\r\\n    cursor: pointer;\\r\\n    transition: all 300ms ease;\\r\\n    font-size: 0.9rem;\\r\\n}\\r\\n\\r\\n.btn[_ngcontent-%COMP%]:hover, .profile-picture[_ngcontent-%COMP%]:hover {\\r\\n    opacity: 0.75;\\r\\n}\\r\\n\\r\\n.btn-primary[_ngcontent-%COMP%] {\\r\\n    background-color: var(--color-primary);\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n.btn-success[_ngcontent-%COMP%] {\\r\\n    background-color: rgb(0, 175, 0);\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n.profile-picture[_ngcontent-%COMP%] {\\r\\n    width: 2.7rem;\\r\\n    height: 2.7rem;\\r\\n    border-radius: 50%;\\r\\n    overflow: hidden;\\r\\n    cursor: pointer;\\r\\n    transition: all 300ms ease;\\r\\n}\\r\\n\\r\\n.card[_ngcontent-%COMP%] {\\n  display: flex;\\n  border-radius: var(--card-border-radius);\\n  background-color: var(--color-white);\\n  padding: var(--card-padding);\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 1rem;\\n}\\r\\n\\r\\n.card[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 1rem;\\n  align-items: center;\\n  font-size: 1rem;\\n}\\r\\n\\r\\n.card[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%] {\\n  font-size: 0.85rem;\\n}\\r\\n\\r\\n.btn[_ngcontent-%COMP%] {\\n  background-color: var(--color-light);\\n  border-radius: 50%;\\n  padding: 0.3rem 0.5rem;\\n  font-size: 1.5rem;\\n  color: var(--color-dark);\\n  font-weight: 500;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3N0eWxlcy5zY3NzIiwicHJvZmlsZS1jYXJkLmNvbXBvbmVudC5zY3NzIiwiLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXENvZGUlMjBQSlxcU29jaWFsTmV0d29ya1dlYkFwcFxcU29jaWFsTmV0d29ya1dlYkFwcC1GRVxcc3JjXFxhcHBcXGNvbXBvbmVudHNcXHByb2ZpbGUtY2FyZFxccHJvZmlsZS1jYXJkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7SUFHSSxTQUFTO0lBQ1QsVUFBVTtJQUNWLFVBQVU7SUFDVixzQkFBc0I7SUFDdEIscUJBQXFCO0lBQ3JCLGdCQUFnQjtJQUNoQixZQUFZOztJQUVaLG1EQUFtRDtBQUN2RDs7QUFFQTtJQUNJLGNBQWM7SUFDZCxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxxQkFBcUI7SUFDckIsMkJBQTJCO0lBQzNCLGdCQUFnQjtJQUNoQixtQ0FBbUM7SUFDbkMsZUFBZTtJQUNmLDBCQUEwQjtJQUMxQixpQkFBaUI7QUFDckI7O0FBRUE7O0lBRUksYUFBYTtBQUNqQjs7QUFFQTtJQUNJLHNDQUFzQztJQUN0QyxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksZ0NBQWdDO0lBQ2hDLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsY0FBYztJQUNkLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLDBCQUEwQjtBQUM5Qjs7QUNqREE7RUFDSSxhQUFBO0VBQ0Esd0NBQUE7RUFDQSxvQ0FBQTtFQUNBLDRCQUFBO0VBQ0EsOEJBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0FDQUo7O0FERUk7RUFDSSxhQUFBO0VBQ0EsU0FBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtBQ0FSOztBREVRO0VBQ0ksa0JBQUE7QUNBWjs7QURLQTtFQUNJLG9DQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtFQUNBLGlCQUFBO0VBQ0Esd0JBQUE7RUFDQSxnQkFBQTtBQ0ZKIiwiZmlsZSI6InByb2ZpbGUtY2FyZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiosXHJcbio6OmJlZm9yZSxcclxuKjo6YWZ0ZXIge1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIG91dGxpbmU6IDA7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgbGlzdC1zdHlsZTogbm9uZTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuXHJcbiAgICBmb250LWZhbWlseTogJ1JvYm90bycsIHNhbnMtc2VyaWYsIEFyaWFsLCBIZWx2ZXRpY2E7XHJcbn1cclxuXHJcbmltZyB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uYnRuIHtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIHBhZGRpbmc6IHZhcigtLWJ0bi1wYWRkaW5nKTtcclxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIHRyYW5zaXRpb246IGFsbCAzMDBtcyBlYXNlO1xyXG4gICAgZm9udC1zaXplOiAwLjlyZW07XHJcbn1cclxuXHJcbi5idG46aG92ZXIsXHJcbi5wcm9maWxlLXBpY3R1cmU6aG92ZXIge1xyXG4gICAgb3BhY2l0eTogMC43NTtcclxufVxyXG5cclxuLmJ0bi1wcmltYXJ5IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLXByaW1hcnkpO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4uYnRuLXN1Y2Nlc3Mge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDAsIDE3NSwgMCk7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi5wcm9maWxlLXBpY3R1cmUge1xyXG4gICAgd2lkdGg6IDIuN3JlbTtcclxuICAgIGhlaWdodDogMi43cmVtO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIHRyYW5zaXRpb246IGFsbCAzMDBtcyBlYXNlO1xyXG59IiwiQGltcG9ydCB1cmwoJy4uL3N0eWxlcy5zY3NzJyk7XHJcblxyXG4uY2FyZCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY2FyZC1ib3JkZXItcmFkaXVzKTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLXdoaXRlKTtcclxuICAgIHBhZGRpbmc6IHZhcigtLWNhcmQtcGFkZGluZyk7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcclxuXHJcbiAgICAucHJvZmlsZSB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBnYXA6IDFyZW07XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICBmb250LXNpemU6IDFyZW07XHJcblxyXG4gICAgICAgIC50ZXh0LW11dGVkIHtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAwLjg1cmVtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLmJ0biB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1saWdodCk7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBwYWRkaW5nOiAwLjNyZW0gMC41cmVtO1xyXG4gICAgZm9udC1zaXplOiAxLjVyZW07XHJcbiAgICBjb2xvcjogdmFyKC0tY29sb3ItZGFyayk7XHJcbiAgICBmb250LXdlaWdodDogNTAwO1xyXG59IiwiQGltcG9ydCB1cmwoXCIuLi9zdHlsZXMuc2Nzc1wiKTtcbi5jYXJkIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tY2FyZC1ib3JkZXItcmFkaXVzKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3Itd2hpdGUpO1xuICBwYWRkaW5nOiB2YXIoLS1jYXJkLXBhZGRpbmcpO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDFyZW07XG59XG4uY2FyZCAucHJvZmlsZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogMXJlbTtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxcmVtO1xufVxuLmNhcmQgLnByb2ZpbGUgLnRleHQtbXV0ZWQge1xuICBmb250LXNpemU6IDAuODVyZW07XG59XG5cbi5idG4ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1saWdodCk7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgcGFkZGluZzogMC4zcmVtIDAuNXJlbTtcbiAgZm9udC1zaXplOiAxLjVyZW07XG4gIGNvbG9yOiB2YXIoLS1jb2xvci1kYXJrKTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn0iXX0= */\"]\n});","map":{"version":3,"mappings":";AACA,SAASA,aAAT,QAA8B,MAA9B;AACA,SAASC,UAAT,QAA2B,iCAA3B;AACA,SAASC,IAAT,QAAqB,2BAArB;;;;AASA,OAAM,MAAOC,oBAAP,CAA2B;EAO/BC,YAAoBC,iBAApB,EACUC,eADV,EAC0C;IADtB;IACV;IAND,YAAa,IAAIJ,IAAJ,EAAb;IAET,aAAkB,CAAC,mBAAD,EAAsB,0BAAtB,EAAkD,oBAAlD,CAAlB;IACA,kBAAyB,IAAID,UAAJ,EAAzB;EAG+C;;EAE/CM,QAAQ;IACN,IAAI,KAAKC,IAAT,EAAe;MACb,KAAKA,IAAL,GAAYC,MAAM,CAACC,MAAP,CAAc,IAAIR,IAAJ,EAAd,EAA0B,KAAKM,IAA/B,CAAZ;IACD;;IAED,KAAKG,eAAL;EACD;;EAEKA,eAAe;IAAA;;IAAA;MACnB,IAAI,KAAI,CAACC,WAAL,IAAoB,KAAI,CAACJ,IAA7B,EAAmC;QACjC,KAAI,CAACK,UAAL,SAAwBb,aAAa,CAAC,KAAI,CAACM,eAAL,CAAqBQ,2BAArB,CAAiD,KAAI,CAACN,IAAL,CAAUO,EAA3D,EAA+D,KAAI,CAACH,WAAL,CAAiBG,EAAhF,CAAD,CAArC;MACD;IAHkB;EAIpB;;EAEDC,SAAS;IACP,IAAI,KAAKJ,WAAT,EAAsB;MACpB,IAAIC,UAAU,GAAG,IAAIZ,UAAJ,EAAjB;MACAY,UAAU,CAACI,MAAX,GAAoB,CAApB;MACAJ,UAAU,CAACK,MAAX,GAAoB,KAAKN,WAAL,CAAiBG,EAArC;MACAF,UAAU,CAACM,QAAX,GAAsB,KAAKX,IAAL,CAAUO,EAAhC;MAEA,KAAKV,iBAAL,CAAuBe,GAAvB,CAA2BP,UAA3B,EAAuCQ,SAAvC,CAAiDC,IAAI,IAAIC,OAAO,CAACC,GAAR,CAAYF,IAAZ,CAAzD;IACD;EACF;;AAjC8B;;;mBAApBnB,sBAAoBsB;AAAA;;;QAApBtB;EAAoBuB;EAAAC;IAAAf;IAAAJ;EAAA;EAAAoB;EAAAC;EAAAC;EAAAC;IAAA;MCZjCN,+BAAkB,CAAlB,EAAkB,KAAlB,EAAkB,CAAlB,EAAkB,CAAlB,EAAkB,KAAlB,EAAkB,CAAlB,EAAkB,CAAlB,EAAkB,KAAlB,EAAkB,CAAlB;MAG+CA;QAAA,OAASO,2BAAT;MAAqC,CAArC;MAAnCP;MAEJA,+BAAkB,CAAlB,EAAkB,KAAlB,EAAkB,CAAlB;MAC2BA;MAAsBA;MAC7CA;MAAwBA;MAA0BA;MAI1DA,4BAAK,EAAL,EAAK,MAAL,EAAK,CAAL;MACsBA;QAAA,OAASO,eAAT;MAAoB,CAApB;MAAsBP;MAAwDA;;;;MATvFA;MAAAA;MAGkBA;MAAAA;MACCA;MAAAA;MAKeA;MAAAA","names":["lastValueFrom","Friendship","User","ProfileCardComponent","constructor","friendshipService","relationService","ngOnInit","user","Object","assign","getRelationship","currentUser","friendship","getRelationshipBetweenUsers","id","addFriend","status","userId","friendId","add","subscribe","data","console","log","i0","selectors","inputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\Code PJ\\SocialNetworkWebApp\\SocialNetworkWebApp-FE\\src\\app\\components\\profile-card\\profile-card.component.ts","D:\\Code PJ\\SocialNetworkWebApp\\SocialNetworkWebApp-FE\\src\\app\\components\\profile-card\\profile-card.component.html"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\nimport { lastValueFrom } from 'rxjs';\r\nimport { Friendship } from 'src/app/models/friendship.model';\r\nimport { User } from 'src/app/models/user.model';\r\nimport { FriendshipService } from 'src/app/services/friendship.service';\r\nimport { RelationService } from 'src/app/services/relation.service';\r\n\r\n@Component({\r\n  selector: 'app-profile-card',\r\n  templateUrl: './profile-card.component.html',\r\n  styleUrls: ['./profile-card.component.scss']\r\n})\r\nexport class ProfileCardComponent implements OnInit {\r\n  @Input() currentUser?: User;\r\n  @Input() user: User = new User();\r\n\r\n  icons: string[] = ['uil uil-user-plus', 'uil uil-user-exclamation', 'uil uil-user-check'];\r\n  friendship: Friendship = new Friendship();\r\n\r\n  constructor(private friendshipService: FriendshipService,\r\n    private relationService: RelationService) { }\r\n\r\n  ngOnInit(): void {\r\n    if (this.user) {\r\n      this.user = Object.assign(new User(), this.user);\r\n    }\r\n\r\n    this.getRelationship();\r\n  }\r\n\r\n  async getRelationship(): Promise<void> {\r\n    if (this.currentUser && this.user) {\r\n      this.friendship = await lastValueFrom(this.relationService.getRelationshipBetweenUsers(this.user.id, this.currentUser.id));\r\n    }\r\n  }\r\n\r\n  addFriend(): void {\r\n    if (this.currentUser) {\r\n      let friendship = new Friendship();\r\n      friendship.status = 0;\r\n      friendship.userId = this.currentUser.id;\r\n      friendship.friendId = this.user.id;\r\n\r\n      this.friendshipService.add(friendship).subscribe(data => console.log(data));\r\n    }\r\n  }\r\n}\r\n","<div class=\"card\">\r\n    <div class=\"profile\">\r\n        <div class=\"profile-picture\">\r\n            <img [src]=\"this.user.getAvatar()\" (error)=\"this.user.getDefaultAvatar()\" alt=\"\">\r\n        </div>\r\n        <div class=\"info\">\r\n            <div class=\"text-bold\">{{user.getFullName()}}</div>\r\n            <div class=\"text-muted\">@{{user.getEmailPrefix()}}</div>\r\n        </div>\r\n    </div>\r\n\r\n    <div>\r\n        <span class=\"btn\" (click)=\"addFriend()\"><i [classList]=\"this.icons[this.friendship.status]\"></i></span>\r\n    </div>\r\n\r\n</div>"]},"metadata":{},"sourceType":"module"}